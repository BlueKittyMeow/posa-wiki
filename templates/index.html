{% extends "base.html" %}

{% block title %}Posa Wiki - Home{% endblock %}

{% block content %}
<div class="header-nav">
    <div class="nav-row">
        <!-- Date Navigation -->
        <div class="form-group">
            <label class="form-label">📅 Jump to Date</label>
            <input type="date" id="date-picker" onchange="goToDate(this.value)">
        </div>
        
        <!-- Search -->
        <div class="form-group">
            <label class="form-label">🔍 Search Videos</label>
            <form action="{{ url_for('search') }}" method="GET" style="display: flex; gap: 0.5rem;">
                <input type="search" name="q" placeholder="Search titles and descriptions..." style="flex: 1;">
                <button type="submit" class="btn">Search</button>
            </form>
        </div>
    </div>
    
    <div class="nav-row">
        <!-- Browse Options -->
        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <a href="{{ url_for('video_list') }}" class="btn btn-secondary">📺 View All Videos</a>
            <a href="#" class="btn btn-secondary">❄️ Winter Camping</a>
            <a href="#" class="btn btn-secondary">🛶 Canoe Adventures</a>
            <a href="#" class="btn btn-secondary">🎣 Fishing Videos</a>
            <a href="{{ url_for('people_list') }}" class="btn btn-secondary">👥 Browse People</a>
        </div>
    </div>
</div>

<!-- Recent Videos Section -->
<div class="card">
    <div class="card-header">
        <h2 class="card-title">🕒 Recent Videos</h2>
        <a href="{{ url_for('video_list') }}" class="btn btn-secondary">View All</a>
    </div>
    
    {% if recent_videos %}
        {% from "_macros.html" import render_video_card %}
        <div class="video-grid">
            {% for video in recent_videos %}
                {{ render_video_card(video) }}
            {% endfor %}
        </div>
    {% endif %}
</div>

<!-- Quick Stats -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
    <div class="card">
        <h3 class="text-accent">📊 Channel Stats</h3>
        <div style="font-size: 2rem; margin: 1rem 0;">{{ stats.total_videos }}</div>
        <div class="text-muted">Total Videos</div>
    </div>
    
    <div class="card">
        <h3 class="text-accent">👥 Adventure Crew</h3>
        <div style="font-size: 2rem; margin: 1rem 0;">{{ stats.total_people }}</div>
        <div class="text-muted">People & Family</div>
    </div>
    
    <div class="card">
        <h3 class="text-accent">🐕 Good Boys</h3>
        <div style="font-size: 2rem; margin: 1rem 0;">{{ stats.total_dogs }}</div>
        <div class="text-muted">Adventure Dogs</div>
    </div>
    
    <div class="card">
        <h3 class="text-accent">🏷️ Categories</h3>
        <div style="font-size: 2rem; margin: 1rem 0;">52</div>
        <div class="text-muted">Tag Authorities</div>
    </div>
</div>

<script>
function goToDate(dateValue) {
    if (dateValue) {
        window.location.href = `/date/${dateValue}`;
    }
}

// Set today's date as default
document.getElementById('date-picker').value = new Date().toISOString().split('T')[0];
</script>
{% endblock %}